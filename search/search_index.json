{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Datatrail CLI","text":"Datatrail CLI Install   \u00b7   Docs A CLI to interact with files registered in Datatrail <p>In order to fully utilise this CLI, you must have an account with CANFAR and access to the either of the following groups: <code>chime-frb-ro</code> or <code>chime-frb-rw</code>.</p>"},{"location":"#installation","title":"\ud83d\udee0\ufe0f Installation","text":""},{"location":"#initialise","title":"\u2699\ufe0f  Initialise","text":""},{"location":"#user-guide","title":"\ud83d\udcd3 User Guide","text":""},{"location":"clear/","title":"\ud83d\uddd1\ufe0f Removing a dataset with <code>clear</code>","text":"datatrail clear --helpUsage: datatrail clear [OPTIONS] SCOPE DATASET  Clear a dataset.Options:  -d, --directory DIRECTORY  Directory to clear data from.  --clear-parents            Clear all empty parent directories of dataset.  -v, --verbose              Verbosity: v=INFO, vv=DEBUG.  -q, --quiet                Set log level to ERROR.  -f, --force                Do not prompt for confirmation.  --help                     Show this message and exit. <p>Once you have completed your analysis, or no longer have need of a dataset, you can remove it with <code>datatrail clear</code>. This will remove the common path of all of the downloaded files, typically \"astro_xxxxxxxx\" for baseband datasets. However, during the download, parent directories would've also been created, to remove these you can use the <code>--clear-parents</code> flag. Like <code>pull</code>, <code>clear</code> will ask for confirmation before removing the dataset.</p> DefaultWith --clear-parents <pre><code>$&gt; datatrail clear kko.event.baseband.raw 308892599\n\nSearching for files for 308892599 kko.event.baseband.raw...\n\nDirectory: ./data/kko/baseband/raw/2023/08/07/astro_308892599\n - Found 4 files.\n - Total size: 0.02 GB.\n\n\u26a0\ufe0f  Delete files? [y/n]: y\n</code></pre> <pre><code>$ datatrail clear kko.event.baseband.raw 308892599 --clear-parents\n\nSearching for files for 308892599 kko.event.baseband.raw...\n\nDirectory: ./data/kko/baseband/raw/2023/08/07/astro_308892599\n - Found 9 files.\n - Total size: 0.04 GB.\n\n\u26a0\ufe0f  Delete files and empty parent directories? [y/n]: y\n</code></pre> <p>Warning: Modified download paths (<code>--directory</code>)</p> <p>If you'd downloaded a dataset to a different directory than the root mount for your site, you'll need to use the <code>--directory</code> flag with same value.</p> <p>Verbosity: More insight</p> <pre><code>$&gt; datatrail clear kko.event.baseband.raw 308892599 --clear-parents -vv\n[17:13:28] DEBUG    `clear` called with:                         \n           DEBUG    scope: kko.event.baseband.raw [&lt;class 'str'&gt;]\n           DEBUG    dataset: 308892599 [&lt;class 'str'&gt;]           \n           DEBUG    directory: None [&lt;class 'NoneType'&gt;]         \n           DEBUG    clear_parents: True [&lt;class 'bool'&gt;]         \n           DEBUG    verbose: 2 [&lt;class 'int'&gt;]                   \n           DEBUG    quiet: False [&lt;class 'bool'&gt;]                \n           DEBUG    Loading configuration.                       \n           DEBUG    Site set to: local                           \n           INFO     No directory, setting to: ./                 \n\nSearching for files for 308892599 kko.event.baseband.raw...\n\n           DEBUG    Loading configuration.                                               \n           DEBUG    Server: https://frb.chimenet.ca/datatrail                            \n           DEBUG    Configuration loaded successfully.                                   \n           INFO     Querying Datatrail for 308892599 kko.event.baseband.raw.             \n           DEBUG    URL: https://frb.chimenet.ca/datatrail/query/dataset/find            \nDirectory: ./data/kko/baseband/raw/2023/08/07/astro_308892599\n - Found 2 files.\n - Total size: 0.01 GB.\n\n\u26a0\ufe0f  Delete files and empty parent directories? [y/n]: y\n[17:13:34] DEBUG    clear_parents: True                                                  \n           DEBUG    Checking if path ./data/kko/baseband/raw/2023/08/07/astro_308892599  \n                    exists.\n           INFO     Path successfully removed.                                           \n           DEBUG    Clearing parent directories of data/kko/baseband/raw/2023/08/07.     \n           DEBUG    files: []                                                            \n           DEBUG    data/kko/baseband/raw/2023/08/07: \u2714 # (1)!                                 \n           DEBUG    files: []                                                            \n           DEBUG    data/kko/baseband/raw/2023/08: \u2714                                     \n[17:13:35] DEBUG    files: []                                                            \n           DEBUG    data/kko/baseband/raw/2023: \u2714                                        \n           DEBUG    files: []                                                            \n           DEBUG    data/kko/baseband/raw: \u2714                                             \n           DEBUG    files: []                                                            \n           DEBUG    data/kko/baseband: \u2714                                                 \n           DEBUG    files: []                                                            \n           DEBUG    data/kko: \u2714                                                          \n           DEBUG    files: []                                                            \n           DEBUG    data: \u2714                                                              \n           DEBUG    files: [PosixPath('.DS_Store'), PosixPath('mkdocs.yml'),             \n                    PosixPath('LICENSE'), PosixPath('.pytest_cache'),\n                    PosixPath('CHANGELOG.md'), PosixPath('.pre-commit-config.yaml'),\n                    PosixPath('dtcli'), PosixPath('pyproject.toml'), PosixPath('tests'),\n                    PosixPath('docs'), PosixPath('README.md'), PosixPath('.gitignore'),\n                    PosixPath('.github'), PosixPath('tox.ini'),\n                    PosixPath('poetry.lock'), PosixPath('.git')]\n           DEBUG    .: \u2717 # (2)!\n</code></pre> <ol> <li><code>--clear-parents</code> checks if each successive parent directory is empty before deleting it.</li> <li>If files are found in a parent directory, it is NOT deleted.</li> </ol>"},{"location":"cli/","title":"Datatrail CLI Reference","text":"<p>This page provides documentation for the Datatrail CLI.</p>"},{"location":"cli/#datatrail","title":"datatrail","text":"<p>Datatrail Command Line Interface.</p> <p>Usage:</p> <pre><code>datatrail [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> Name Type Description Default <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#datatrail-clear","title":"datatrail clear","text":"<p>Clear a dataset.</p> <p>Usage:</p> <pre><code>datatrail clear [OPTIONS] SCOPE DATASET\n</code></pre> <p>Options:</p> Name Type Description Default <code>--directory</code>, <code>-d</code> directory Root directory to use. Default: None, will use the value set in the config. None <code>--clear-parents</code> boolean Clear all empty parent directories of dataset. <code>False</code> <code>-v</code>, <code>--verbose</code> integer range (<code>0</code> and above) Verbosity: v=INFO, vv=DEBUG. <code>0</code> <code>-q</code>, <code>--quiet</code> boolean Set log level to ERROR. <code>False</code> <code>--force</code>, <code>-f</code> boolean Will not prompt for confirmation. <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#datatrail-config","title":"datatrail config","text":"<p>Datatrail CLI Configuration.</p> <p>For initialising and modifying the Datatrail CLI configuration file.</p> <p>Usage:</p> <pre><code>datatrail config [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> Name Type Description Default <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#datatrail-config-get","title":"datatrail config get","text":"<p>Get a configuration value.</p> <p>Usage:</p> <pre><code>datatrail config get [OPTIONS] KEY\n</code></pre> <p>Options:</p> Name Type Description Default <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#datatrail-config-init","title":"datatrail config init","text":"<p>Initialise configuration.</p> <p>This will create a configuration file in the home directory under <code>.datatrail</code>. Datatrail MUST be initialised before is can be used.</p> <p>Usage:</p> <pre><code>datatrail config init [OPTIONS]\n</code></pre> <p>Options:</p> Name Type Description Default <code>--site</code>, <code>-s</code> choice (<code>chime</code> | <code>canfar</code> | <code>kko</code> | <code>gbo</code> | <code>hco</code> | <code>local</code>) Site to initialise Datatrail CLI for. _required <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#datatrail-config-list","title":"datatrail config list","text":"<p>List all configuration values.</p> <p>Usage:</p> <pre><code>datatrail config list [OPTIONS]\n</code></pre> <p>Options:</p> Name Type Description Default <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#datatrail-config-set","title":"datatrail config set","text":"<p>Set a configuration value.</p> <p>Usage:</p> <pre><code>datatrail config set [OPTIONS] KEY VALUE\n</code></pre> <p>Options:</p> Name Type Description Default <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#datatrail-list","title":"datatrail list","text":"<p>List scopes &amp; datasets</p> <p>Usage:</p> <pre><code>datatrail list [OPTIONS] [SCOPE] [DATASETS]\n</code></pre> <p>Options:</p> Name Type Description Default <code>-v</code>, <code>--verbose</code> integer range (<code>0</code> and above) Verbosity: v=INFO, vv=DEBUG. <code>0</code> <code>-q</code>, <code>--quiet</code> boolean Only errors shown in logs. <code>False</code> <code>--write</code> boolean Write the events to file. <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#datatrail-ps","title":"datatrail ps","text":"<p>Details of a dataset.</p> <p>Usage:</p> <pre><code>datatrail ps [OPTIONS] SCOPE DATASET\n</code></pre> <p>Options:</p> Name Type Description Default <code>-s</code>, <code>--show-files</code> boolean Show file names. <code>False</code> <code>-v</code>, <code>--verbose</code> integer range (<code>0</code> and above) Verbosity: v=INFO, vv=DEBUG. <code>0</code> <code>-q</code>, <code>--quiet</code> boolean Set log level to ERROR. <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#datatrail-pull","title":"datatrail pull","text":"<p>Download a dataset.</p> <p>Usage:</p> <pre><code>datatrail pull [OPTIONS] SCOPE DATASET\n</code></pre> <p>Options:</p> Name Type Description Default <code>--directory</code>, <code>-d</code> directory Directory to pull data to. None <code>--cores</code>, <code>-c</code> integer range (between <code>1</code> and <code>4</code>) Number of parallel fetch processes to use. <code>1</code> <code>-v</code>, <code>--verbose</code> integer range (<code>0</code> and above) Verbosity: v=INFO, vv=DEBUG. <code>0</code> <code>-q</code>, <code>--quiet</code> boolean Set log level to ERROR. <code>False</code> <code>--force</code>, <code>-f</code> boolean Do not prompt for confirmation. <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#datatrail-scout","title":"datatrail scout","text":"<p>Scout a dataset.</p> <p>Usage:</p> <pre><code>datatrail scout [OPTIONS] [SCOPES]... DATASET\n</code></pre> <p>Options:</p> Name Type Description Default <code>-v</code>, <code>--verbose</code> integer range (<code>0</code> and above) Verbosity: v=INFO, vv=DEBUG. <code>0</code> <code>-q</code>, <code>--quiet</code> boolean Set log level to ERROR. <code>False</code> <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"cli/#datatrail-version","title":"datatrail version","text":"<p>Show versions.</p> <p>Usage:</p> <pre><code>datatrail version [OPTIONS]\n</code></pre> <p>Options:</p> Name Type Description Default <code>--help</code> boolean Show this message and exit. <code>False</code>"},{"location":"commands/","title":"Commands","text":"Commands <p>The commands available to you are:</p> <ul> <li><code>clear</code>: This removes all files belonging to the 'scope' and 'dataset', only   available for the local and canfar sites.</li> <li><code>config</code>: Edit the <code>.datatrail/config.yaml</code> configuration file.</li> <li><code>list</code>: This list either the 'scopes' available or all of the datasets   belonging to the given dataset.</li> <li><code>ps</code>: This provides detailed information for the given 'scope' and 'dataset' combination.</li> <li><code>pull</code>: This allows you to download all files belonging to the 'scope' and   'dataset' provided.</li> <li><code>scout</code>: This command provides an overview of what the Datatrail database   thinks is the current number of files for a given dataset at each storage   element, compared to what is observed. If a discrepancy is found at Minoc,   the user can choose to create the file replicas missing for Minoc.</li> <li><code>version</code>: List the CLI and server version.</li> </ul> <p>Detailed information on all of the CLI commands can be found on the Reference page.</p>"},{"location":"initialising/","title":"\u2699\ufe0f Initialising the CLI","text":"<p>The Datatrail CLI makes use of a configuration file, placed in the '.datatrail' directory in <code>$HOME</code>. To create a configuration file, use the command <code>datatrail config init --site {SITE}</code>, where <code>{SITE}</code> is 'local', 'chime', or one of the outrigger sites. See below for a guide for each of the sites.</p> LocalCANFARCHIMEKKOGBOHCO <p>To create a configuration file for Datatrail CLI, use the command: </p> <pre><code># Create Datatrail config file\n$&gt; datatrail config init --site local\nDatatrail config file /Users/tarikzegmott/.datatrail/config.yaml created.\n</code></pre> <p>You will now have a configuration file in <code>$HOME/.datatrail/config.yaml</code>. You can view the contents of the file using:</p> <pre><code>$&gt; datatrail config ls\nFilename: /Users/tarikzegmott/.datatrail/config.yaml\n{\n    'root_mounts': {\n        'canfar': '/arc/projects/chime_frb/',\n        'chime': '/',\n        'gbo': '/',\n        'hco': '/',\n        'kko': '/',\n        'local': './'\n    },\n    'server': 'https://frb.chimenet.ca/datatrail',\n    'site': 'local',\n    'vospace_certfile': '/Users/tarikzegmott/.ssl/cadcproxy.pem'\n}\n</code></pre> <p>The information you see here is basic values that the CLI will use to perform its operations. Particularly important, is the <code>vospace_certfile</code> which lists the location of your CADC Certificate. If you do not have a CADC Certificate, you should obtain one now.</p> <pre><code># Ensure valid CADC Certificate exists\n$&gt; cadc-get-cert -u [username]\ntzegmott@ws.cadc-ccda.hia-iha.nrc-cnrc.gc.ca\nPassword:\n\nDONE. 10 day certificate saved in /Users/tarikzegmott/.ssl/cadcproxy.pem\n</code></pre> <p>CADC Certificate</p> <p>The CADC certificate is required for the Datatrail CLI to function. Note that CADC certificates are valid for 10 days by default, up to a maximum of 30 days. You must refresh the certificate periodically.</p> <p>If you do not keep your CADC certificate in the default location, you must update the configuration file to pointt to the correct location.</p> <pre><code># Updating CADC Certificate location\n$&gt; datatrail config set vospace_certificate /non/standard/location/cadcproxy.pem\nAttempting to set vospace_certificate to /non/standard/location/cadcproxy.pem\nSet vospace_certificate to /non/standard/location/cadcproxy.pem\n</code></pre> <p>Note</p> <p>The Configuration steps at CANFAR are similar to the local configuration. One notable exception is that after installation, the <code>datatrail</code> command may not be in the PATH. It is installed to <code>~/.local/bin</code>, in which case you may need to add it to your PATH or prepend it to the follwing commands.</p> <p>To create a configuration file for Datatrail CLI, use the command: </p> <pre><code># Create Datatrail config file\n$&gt; datatrail config init --site canfar\nDatatrail config file /arc/home/tzegmott/.datatrail/config.yaml created.\n</code></pre> <p>You will now have a configuration file in <code>$HOME/.datatrail/config.yaml</code>. You can view the contents of the file using:</p> <pre><code>$&gt; datatrail config ls\nFilename: /arc/home/tzegmott/.datatrail/config.yaml\n{\n    'root_mounts': {\n        'canfar': '/arc/projects/chime_frb/',\n        'chime': '/',\n        'gbo': '/',\n        'hco': '/',\n        'kko': '/',\n        'local': './'\n    },\n    'server': 'https://frb.chimenet.ca/datatrail',\n    'site': 'canfar',\n    'vospace_certfile': '/arc/home/tzegmott/.ssl/cadcproxy.pem'\n}\n</code></pre> <p>The information you see here is basic values that the CLI will use to perform its operations. Particularly important, is the <code>vospace_certfile</code> which lists the location of your CADC Certificate. If you do not have a CADC Certificate, you should obtain one now.</p> <pre><code># Ensure valid CADC Certificate exists\n$&gt; cadc-get-cert -u [username]\ntzegmott@ws.cadc-ccda.hia-iha.nrc-cnrc.gc.ca\nPassword:\n\nDONE. 10 day certificate saved in /arc/home/tzegmott/.ssl/cadcproxy.pem\n</code></pre> <p>CADC Certificate</p> <p>The CADC certificate is required for the Datatrail CLI to function. Note that CADC certificates are valid for 10 days by default, up to a maximum of 30 days. You must refresh the certificate periodically.</p> <p>If you do not keep your CADC certificate in the default location, you must update the configuration file to pointt to the correct location.</p> <pre><code># Updating CADC Certificate location\n$&gt; datatrail config set vospace_certificate /non/standard/location/cadcproxy.pem\nAttempting to set vospace_certificate to /non/standard/location/cadcproxy.pem\nSet vospace_certificate to /non/standard/location/cadcproxy.pem\n</code></pre> <pre><code># Create Datatrail config file\ndatatrail config init --site chime\n\n# Ensure valid CADC Certificate exists\ncadc-get-cert -u [username]\n</code></pre> <pre><code># Create Datatrail config file\ndatatrail config init --site kko\n\n# Ensure valid CADC Certificate exists\ncadc-get-cert -u [username]\n</code></pre> <pre><code># Create Datatrail config file\ndatatrail config init --site gbo\n\n# Ensure valid CADC Certificate exists\ncadc-get-cert -u [username]\n</code></pre> <pre><code># Create Datatrail config file\ndatatrail config init --site hco\n\n# Ensure valid CADC Certificate exists\ncadc-get-cert -u [username]\n</code></pre>"},{"location":"install/","title":"\ud83d\udee0\ufe0f Installation","text":"<p>There are two ways to install the Datatrail CLI:</p> PYPIGitHub"},{"location":"install/#install-from-pypi","title":"Install from PYPI","text":"<p>The Datatrail CLI can be installed from PYPI using pip:</p> <p>pip</p> <pre><code>pip install datatrail-cli\n</code></pre>"},{"location":"install/#clone-the-repository","title":"Clone the repository","text":"<p>The Datatrail CLI can be installed from source using git to download from GitHub and pip to install:</p> <p>git+pip</p> <pre><code>git clone https://github.com/CHIMEFRB/datatrail-cli\ncd datatrail-cli\npip install .\n</code></pre> <p>It can also be installed from source using git and poetry:</p> <p>git+poetry</p> <pre><code>git clone ssh+git://git@github.com/chimefrb/datatrail-cli\ncd datatrail-cli\npoetry install --without docs\n</code></pre>"},{"location":"list/","title":"\ud83d\uddd2\ufe0f Finding scopes and datasets with <code>list</code>","text":"datatrail ls --helpUsage: datatrail list [OPTIONS] [SCOPE] [DATASETS]  List scopes &amp; datasetsOptions:  -v, --verbose  Verbosity: v=INFO, vv=DEBUG.  -q, --quiet    Only errors shown in logs.  --write        Write the events to file.  --help         Show this message and exit. <p>Datasets in Datatrail are identified by the unique combination of a 'scope' and a 'dataset name'. A scope gives an indication of site that the data was captured at and the type of data product that the dataset contains. For example, the scope 'kko.scheduled.baseband.raw' contains datasets captured at the KKO outrigger and that are manually triggered baseband dumps.</p> <p>Within Datatrail, there are two types of datasets:</p> <ul> <li>Larger datasets - are datasets that contain other datasets, but no files.</li> <li>Datasets - are datasets that are attached to files.</li> </ul> <p>Scopes</p> <p>A list of all scopes in the Datatrail database can be obtained by the following command:</p> <pre><code>$&gt; datatrail ls\n        Datatrail: Scopes\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Scopes                        \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 chime.event.baseband.raw      \u2502\n\u2502 chime.event.intensity.raw     \u2502\n\u2502 kko.acquisition.processed     \u2502\n\u2502 kko.calibration.trackingbeam  \u2502\n\u2502 kko.event.baseband.beamformed \u2502\n\u2502 kko.event.baseband.processed  \u2502\n\u2502 kko.event.baseband.raw        \u2502\n\u2502 kko.scheduled.baseband.raw    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Larger datasets with a scope</p> <p>A list of all larger datasets for a given scope in the Datatrail database can be obtained by the following command:</p> <pre><code>$&gt; datatrail ls kko.scheduled.baseband.raw\n           Datatrail: Larger Datasets\n           kko.scheduled.baseband.raw\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503               Larger datasets                \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502                20230804095251                \u2502\n\u2502        scheduled.commissioning.steady        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n(END)\n</code></pre> <p>Datasets within a larger dataset</p> <p>A list of all datasets within a larger dataset in the Datatrail database can be obtained by the following command:</p> <pre><code>Datatrail: Child Datasets scheduled.commissioning.steady kko.scheduled.baseband.raw\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503                                Datasets                                 \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502    20230616150511  20230604135840  20230604134842    20230604131847     \u2502\n\u2502    20230604130848  20230604125850  20230604124851    20230604123853     \u2502\n\u2502    20230604120858  20230603081533  20230603080535    20230603075536     \u2502\n\u2502    20230603072541  20230603071543  20230603070544    20230603065546     \u2502\n\u2502    20230603062551  20230601082325  20230601081326    20230601080328     \u2502\n\u2502    20230601073333  20230601072335  20230601071336    20230601070338     \u2502\n\u2502    20230601063343  20230531124438  20230531123440    20230524142031     \u2502\n\u2502    20230524135029  20230524134028  20230524133027    20230524132026     \u2502\n\u2502    20230524125024  20230524124023  20230524123022    20230523124023     \u2502\n\u2502    20230522074031  20230522073030  20230522072029    20230522071028     \u2502\n\u2502    20230522064025  20230522063024  20230522062023    20230522061022     \u2502\n\u2502    20230521074031  20230521073030  20230521072029    20230521071028     \u2502\n\u2502    20230521064025  20230521063024  20230521062023    20230521061023     \u2502\n\u2502    20230519094030  20230519093029  20230519092028    20230519091027     \u2502\n\u2502    20230519084025  20230519083024  20230519082023    20230519081022     \u2502\n\u2502    20230518030521  20230518024523  20230518024022    20230518023522     \u2502\n:\n</code></pre> <p>More information</p> <p>Please see the CLI reference page for more information on the <code>list</code> command: datatrail list</p>"},{"location":"ps/","title":"\ud83d\udd0d Detailed dataset info using <code>ps</code>","text":"datatrail ps --helpUsage: datatrail ps [OPTIONS] SCOPE DATASET  Details of a dataset.Options:  -s, --show-files  Show file names.  -v, --verbose     Verbosity: v=INFO, vv=DEBUG.  -q, --quiet       Set log level to ERROR.  --help            Show this message and exit. <p>The <code>ps</code> command is used to get information about a child dataset. It can display the datasets replication and deletion policies, in addition to the size and number of files in the dataset.</p> <p>Dataset policies and size at minoc</p> <pre><code>$&gt; datatrail ps kko.event.baseband.raw 308892599\n   Datatrail: 308892599 kko.event.baseband.raw at Minoc\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Storage Element \u2503 Number of Files \u2503 Size of Files [GB] \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 minoc           \u2502 1024            \u2502 5.34               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                   Datatrail: Policies for 308892599 kko.event.baseband.raw\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Policy      \u2503 Storage Element                    \u2503 Priority \u2503 Default \u2503 Delete After [days] \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 Replication \u2502 chime                              \u2502 low      \u2502 True    \u2502 -                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Deletion    \u2502 minoc                              \u2502 low      \u2502 True    \u2502 36500               \u2502\n\u2502             \u2502 arc                                \u2502 high     \u2502 True    \u2502 60                  \u2502\n\u2502             \u2502 chime                              \u2502 medium   \u2502 True    \u2502 90                  \u2502\n\u2502             \u2502 kko                                \u2502 medium   \u2502 True    \u2502 90                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Belongs to  \u2502 B0531+21.commissioning.pulsar.temp \u2502          \u2502         \u2502                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>This command is also able to display a list of files for each storage element, if the <code>--show-files</code> or <code>-s</code> flag is passed.</p> <p>Listing dataset's files</p> <pre><code>$&gt; datatrail ps kko.event.baseband.raw 308892599 --show-files\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Datatrail: Files for 308892599 kko.event.baseband.raw           \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 Storage Element: minoc                                          \u2502\n\u2502 Common Path: data/kko/baseband/raw/2023/08/07/astro_308892599/  \u2502\n\u2502 - baseband_308892599_129.h5                                     \u2502\n\u2502 - baseband_308892599_1013.h5                                    \u2502\n\u2502 - baseband_308892599_171.h5                                     \u2502\n\u2502 - baseband_308892599_250.h5                                     \u2502\n\u2502 - baseband_308892599_269.h5                                     \u2502\n\u2502 - baseband_308892599_284.h5                                     \u2502\n\u2502 - baseband_308892599_295.h5                                     \u2502\n\u2502 - baseband_308892599_306.h5                                     \u2502\n\u2502 - baseband_308892599_353.h5                                     \u2502\n\u2502 - baseband_308892599_926.h5                                     \u2502\n\u2502 - baseband_308892599_933.h5                                     \u2502\n\u2502 - baseband_308892599_201.h5                                     \u2502\n\u2502 - baseband_308892599_393.h5                                     \u2502\n\u2502 - baseband_308892599_429.h5                                     \u2502\n\u2502 - baseband_308892599_542.h5                                     \u2502\n\u2502 - baseband_308892599_565.h5                                     \u2502\n\u2502 - baseband_308892599_604.h5                                     \u2502\n\u2502 - baseband_308892599_615.h5                                     \u2502\n\u2502 - baseband_308892599_657.h5                                     \u2502\n\u2502 - baseband_308892599_672.h5                                     \u2502\n\u2502 - baseband_308892599_10.h5                                      \u2502\n\u2502 - baseband_308892599_110.h5                                     \u2502\n\u2502 - baseband_308892599_111.h5                                     \u2502\n:\n</code></pre>"},{"location":"pull/","title":"\u2b07\ufe0f  Downloading a dataset with <code>pull</code>","text":"<p>Requires a valid CADC certificate</p> <p>Downloading datasets requires a valid CADC certificate and the relevant permissions on CANFAR.</p> datatrail pull --helpUsage: datatrail pull [OPTIONS] SCOPE DATASET  Download a dataset.Options:  -d, --directory DIRECTORY  Directory to pull data to.  -c, --cores INTEGER RANGE  Number of parallel fetch processes to use.                             [1&lt;=x&lt;=8]  -v, --verbose              Verbosity: v=INFO, vv=DEBUG.  -q, --quiet                Set log level to ERROR.  -f, --force                Do not prompt for confirmation.  --help                     Show this message and exit. <p>To download a dataset from MINOC, we use <code>datatrail pull</code>. Without any flags, this starts a single process to download the dataset. However, if you have multiple cores, you can start multiple processes to download the dataset faster. To start multiple processes, use the <code>--cores</code> flag, the help will indicte how many cores are availble.</p> <p>If you'd like to download a dataset to a different directory than the root mount for your site, you can use the <code>--directory</code> flag. Note, that this also affects the check for existing files.</p> Single process downloadMulti process download <pre><code>$&gt; datatrail pull kko.event.baseband.raw 308892599 # (1)!\n\nSearching for files for 308892599 kko.event.baseband.raw...\n\n - 0 files found at local. # (2)!\n - 1024 files can be downloaded from minoc. # (3)!\n     - Size to download: 5.34 GB.\n\nDownload 1024 files? [y/n]: y # (4)!\n1024 files missing.\nDownloading 1024 missing files.\n</code></pre> <ol> <li>The <code>--cores</code> flag can be used to download multiple files simultaneously. The number of cores that can be set is limited by the host machine.</li> <li>If files belonging to the dataset already exist and are found they are not re-downloaded.</li> <li>Remaining files that were not found locally are availble to download and their size is calculated.</li> <li>Confirming with <code>y</code> will start the download. This can be skipped by adding the <code>--force</code> flag.</li> </ol> <pre><code>$&gt; datatrail pull kko.event.baseband.raw 308892599 --cores 4  # (1)!\n\nSearching for files for 308892599 kko.event.baseband.raw...\n\n - 0 files found at local. # (2)!\n - 1024 files can be downloaded from minoc. # (3)!\n     - Size to download: 5.34 GB.\n\nDownload 1024 files? [y/n]: y # (4)!\n1024 files missing.\nDownloading 1024 missing files.\n</code></pre> <ol> <li>The <code>--cores</code> flag can be used to download multiple files simultaneously. The number of cores that can be set is limited by the host machine.</li> <li>If files belonging to the dataset already exist and are found they are not re-downloaded.</li> <li>Remaining files that were not found locally are availble to download and their size is calculated.</li> <li>Confirming with <code>y</code> will start the download. This can be skipped by adding the <code>--force</code> flag.</li> </ol> <p>View progress</p> <p>By default, there is no progress indicator while downloading a dataset. If you'd like to reassure yourself that something is happening, you can add verbosity to see the current file being downloaded.</p> <pre><code>$&gt; datatrail pull kko.event.baseband.raw 308892599 -vv --force\n[16:48:37] DEBUG    `pull` called with:                                                  \n           DEBUG    scope: kko.event.baseband.raw [&lt;class 'str'&gt;]                        \n           DEBUG    dataset: 308892599 [&lt;class 'str'&gt;]                                   \n           DEBUG    verbose: 2 [&lt;class 'int'&gt;]                                           \n           DEBUG    quiet: False [&lt;class 'bool'&gt;]                                        \n           DEBUG    Loading config.                                                      \n           DEBUG    Site set to: local.                                                  \n           INFO     No directory, setting to: ./.                                        \n\nSearching for files for 308892599 kko.event.baseband.raw...\n\n           INFO     Finding files for 308892599 in kko.event.baseband.raw.               \n           DEBUG    Payload: {'scope': 'kko.event.baseband.raw', 'name': '308892599'}    \n           DEBUG    URL: https://frb.chimenet.ca/datatrail/query/dataset/find            \n[16:48:40] DEBUG    Status: 200.                                                         \n           DEBUG    Decoding response.                                                   \n           INFO     Checking for local copies of files.                                  \n           DEBUG    -                                                                    \n                    data/kko/baseband/raw/2023/08/07/astro_308892599/baseband_308892599926.h5 : \u2718\n... # (1)!\n - 1 files found at local.\n - 1023 files can be downloaded from minoc.\n     - Size to download: 5.34 GB.\n\n1023 files missing.\nDownloading 1023 missing files.\n           INFO     Starting 1 processes.                                               \n[16:48:44] INFO     Connecting to CADC...                                               \n           DEBUG    Checking source and destination length match.                       \n           DEBUG    Source length: 1023                                                 \n           DEBUG    Destination length: 1023                                            \n[16:48:47] DEBUG    cadc:CHIMEFRB/data/kko/baseband/raw/2023/08/07/astro_308892599/base \n                    band_308892599_926.h5 \u279c\n                    ./data/kko/baseband/raw/2023/08/07/astro_308892599/baseband_3088925\n                    99_926.h5 \u2714\n[16:48:51] DEBUG    cadc:CHIMEFRB/data/kko/baseband/raw/2023/08/07/astro_308892599/base \n                    band_308892599_129.h5 \u279c\n                    ./data/kko/baseband/raw/2023/08/07/astro_308892599/baseband_3088925\n                    99_129.h5 \u2714\n</code></pre> <ol> <li>Note: You will also see all of the output that checks if the files already exist. Truncated for clarity here.</li> </ol>"},{"location":"scout/","title":"\ud83d\udd75\ufe0f Investigating a dataset with scout","text":"\u276f datatrail scout --helpUsage: datatrail scout [OPTIONS] [SCOPES]... DATASET  Scout a dataset.Options:  -v, --verbose  Verbosity: v=INFO, vv=DEBUG.  -q, --quiet    Set log level to ERROR.  --help         Show this message and exit."},{"location":"scout/#overview","title":"Overview","text":"<p>The purpose of this function is the give users easy visibility into the current situation for a given dataset across all of Datatrail's storage elements. The number of datasets that information is given for depends on the number of scopes that the given dataset name has registered. However, this can be filtered by providing a list of scopes to the command.</p>"},{"location":"scout/#usage","title":"Usage","text":"<p>Below is an example of the output for the dataset named <code>382085503</code>, both filtered to only show information for the <code>chime.event.baseband.raw</code> scope and unfiltered.</p> <p>Note</p> <p>The output below does not show the correct colouring. The rows of the table are colour-coded to indicate if it is observed or expected. Observed values are displayed in blue and expected values are in yellow.</p> Filtering by scopeUnfiltered <pre><code>\u276f datatrail scout chime.event.baseband.raw 382085503\n                          Scout Results for 382085503\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Scope                    \u2503 chime \u2503 baseband_buffer \u2503 kko \u2503 gbo \u2503 hco \u2503 minoc \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 chime.event.baseband.raw \u2502 824   \u2502 0               \u2502 0   \u2502 -1  \u2502 -1  \u2502 824   \u2502 # (1)!\n\u2502 chime.event.baseband.raw \u2502 824   \u2502 0               \u2502 0   \u2502 0   \u2502 0   \u2502 824   \u2502 # (2)!\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\nLegend: Observed, Expected\nNOTE: In the case where more files are expected at a site other than minoc, that\nthis may be due to the file type filtering when querying each site. This is a\nknown limitation of the current implementation.\n</code></pre> <ol> <li>The Observed number of files.</li> <li>The Expected number of files.</li> </ol> <pre><code>\u276f datatrail scout 382085503\n                           Scout Results for 382085503\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Scope                     \u2503 chime \u2503 baseband_buffer \u2503 kko \u2503 gbo  \u2503 hco \u2503 minoc \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 chime.event.baseband.raw  \u2502 824   \u2502 0               \u2502 0   \u2502 -1   \u2502 -1  \u2502 824   \u2502\n\u2502 chime.event.baseband.raw  \u2502 824   \u2502 0               \u2502 0   \u2502 0    \u2502 0   \u2502 824   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 chime.event.intensity.raw \u2502 162   \u2502 0               \u2502 0   \u2502 -1   \u2502 -1  \u2502 164   \u2502\n\u2502 chime.event.intensity.raw \u2502 164   \u2502 0               \u2502 0   \u2502 0    \u2502 0   \u2502 164   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 gbo.event.baseband.raw    \u2502 0     \u2502 0               \u2502 0   \u2502 -1   \u2502 -1  \u2502 1024  \u2502\n\u2502 gbo.event.baseband.raw    \u2502 0     \u2502 0               \u2502 0   \u2502 1024 \u2502 0   \u2502 1024  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\nLegend: Observed, Expected\nNOTE: In the case where more files are expected at a site other than minoc, that this may\nbe due to the file type filtering when querying each site. This is a known limitation of\nthe current implementation.\n</code></pre> <p>Negative files</p> <p>If the server encounters an error it is represented as a negative number. Which can occur when communicating with the mini-servers running at each storage element.</p>"},{"location":"scout/#healing-at-minoc","title":"Healing at Minoc","text":"<p>In some cases, the number of files expected at minoc may be less than the number that actually exist there. This can occur when API requests drop, leading to an inconsistent state in the database. When this is seen by <code>scout</code>, the command offers to remedy the situation by adding the missing replicas.</p> <pre><code>\u276f datatrail scout chime.event.baseband.raw 383577603\n                          Scout Results for 383577603\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Scope                    \u2503 chime \u2503 baseband_buffer \u2503 kko \u2503 gbo \u2503 hco \u2503 minoc \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 chime.event.baseband.raw \u2502 702   \u2502 0               \u2502 0   \u2502 -1  \u2502 -1  \u2502 702   \u2502\n\u2502 chime.event.baseband.raw \u2502 702   \u2502 0               \u2502 0   \u2502 0   \u2502 0   \u2502 699   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\nLegend: Observed, Expected\nNOTE: In the case where more files are expected at a site other than minoc, that this may\nbe due to the file type filtering when querying each site. This is a known limitation of\nthe current implementation.\n\nScopes with minoc discrepancy:\n - chime.event.baseband.raw\n\nWould you like to attempt to heal this discrepancy? [y/n]: y\nchime.event.baseband.raw - Healing successful.\n</code></pre>"},{"location":"user_guide/","title":"Welcome","text":"User Guide"},{"location":"user_guide/#installation","title":"\ud83d\udee0\ufe0f Installation","text":"<p>How to install Datatrail CLI.</p>"},{"location":"user_guide/#initialise","title":"\u2699\ufe0f  Initialise","text":"<p>Performing the initial setup in order to use the Datatrail CLI.</p>"},{"location":"user_guide/#clear","title":"\ud83d\uddd1\ufe0f clear","text":"<p>Deleting a dataset.</p>"},{"location":"user_guide/#list","title":"\ud83d\uddd2\ufe0f list","text":"<p>Searching the Datatrail database for scopes and datasets.</p>"},{"location":"user_guide/#ps","title":"\ud83d\udd0d ps","text":"<p>Querying the Datatrail database for details about a dataset.</p>"},{"location":"user_guide/#pull","title":"\u2b07\ufe0f  pull","text":"<p>Downloading a dataset.</p>"},{"location":"user_guide/#scout","title":"\ud83d\udd75\ufe0f  scout","text":"<p>Investigating number of files for a dataset across storage elements.</p>"}]}